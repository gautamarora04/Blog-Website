{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gauta\\\\Desktop\\\\blogwebsite\\\\blogfrontend\\\\src\\\\components\\\\PersonalBlog.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"react-simple-snackbar\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst x = \"../../blogbackend/upload\";\n\nconst PersonalBlog = () => {\n  _s();\n\n  const [blogData, setBlogData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const navigate = useNavigate();\n  const options = {\n    position: \"bottom-right\",\n    style: {\n      backgroundColor: \"gray\",\n      border: \"2px solid lightgreen\",\n      color: \"white\",\n      fontFamily: \"Menlo, monospace\",\n      fontSize: \"20px\",\n      textAlign: \"center\"\n    },\n    closeStyle: {\n      color: \"lightcoral\",\n      fontSize: \"16px\"\n    }\n  };\n  const [openSnackbar] = useSnackbar(options);\n\n  const uniqueBlog = () => {\n    setLoading(true);\n    axios.get(`${process.env.REACT_APP_BACKEND_URL}/api/mypost`, {\n      withCredentials: true,\n      headers: {\n        Authorization: \"TOKEN\"\n      }\n    }).then(function (response) {\n      setLoading(false); //setBlogData(response?.data?.data);\n\n      setBlogData(response === null || response === void 0 ? void 0 : response.data);\n      console.log(\"respose\", response === null || response === void 0 ? void 0 : response.data);\n    }).catch(function (error) {\n      setLoading(false); //   setMessage(error?.response?.data?.message);\n      //   openSnackbar(error?.response?.data?.message);\n      //console.log(error?.response?.data?.message);\n    }).then(function () {// always executed\n    });\n  };\n\n  useEffect(() => {\n    const User = localStorage.getItem(\"user\");\n\n    if (!User) {\n      navigate(\"/login\");\n    }\n\n    uniqueBlog();\n  }, []);\n\n  const deleteBtn = blog => {\n    setDeleteLoading(true);\n    axios.delete(`${process.env.REACT_APP_BACKEND_URL}/api/delete-blog/${blog.id}`, {\n      withCredentials: true\n    }).then(function (response) {\n      var _response$data;\n\n      //setLoading(false);\n      //setBlogData(response?.data?.data);\n      setDeleteLoading(false);\n      openSnackbar(response === null || response === void 0 ? void 0 : (_response$data = response.data) === null || _response$data === void 0 ? void 0 : _response$data.message);\n      uniqueBlog();\n      console.log(response === null || response === void 0 ? void 0 : response.data);\n    }).catch(function (error) {\n      var _error$response, _error$response$data;\n\n      // handle error\n      setDeleteLoading(false); //   setMessage(error?.response?.data?.message);\n\n      openSnackbar(error === null || error === void 0 ? void 0 : (_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message); //console.log(error?.response?.data?.message);\n    }).then(function () {// always executed\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!loading && (blogData === null || blogData === void 0 ? void 0 : blogData.length) <= 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-2xl font-bold text-center flex justify-center items-center pl-16 pt-24\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"You don't have post yet. Kindly create a post \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"text-2xl font-bold text-center px-56 pt-24\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"LOADING.....\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container my-12 mx-auto px-4 md:px-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"flex flex-wrap -mx-1 lg:-mx-4\",\n        children: blogData === null || blogData === void 0 ? void 0 : blogData.map(blog => {\n          var _blog$user, _blog$user2;\n\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\",\n            children: /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"overflow-hidden rounded-lg shadow-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: `/detail/${blog.id}`,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  alt: \"Placeholder\",\n                  className: \"block h-72 w-full\" // src={blog?.image}\n                  ,\n                  src: \"./upload\" + (blog === null || blog === void 0 ? void 0 : blog.image).slice(25)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n                className: \"flex items-center justify-between leading-tight p-2 md:p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  className: \"text-lg\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    className: \"no-underline hover:underline text-black\",\n                    href: `/detail/${blog.id}`,\n                    children: blog.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 127,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 126,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-grey-darker text-sm\",\n                  children: new Date(blog === null || blog === void 0 ? void 0 : blog.CreatedAt).toLocaleString()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 134,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 125,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n                className: \"flex items-center justify-between leading-none p-2 md:p-4\",\n                children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                  className: \"flex items-center no-underline hover:underline text-black\",\n                  href: `/detail/${blog.id}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"Placeholder\",\n                    className: \"block rounded-full w-5 h-5\",\n                    src: blog === null || blog === void 0 ? void 0 : blog.image\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"ml-2 text-sm\",\n                    children: [blog === null || blog === void 0 ? void 0 : (_blog$user = blog.user) === null || _blog$user === void 0 ? void 0 : _blog$user.first_name, \" \", blog === null || blog === void 0 ? void 0 : (_blog$user2 = blog.user) === null || _blog$user2 === void 0 ? void 0 : _blog$user2.last_name]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 140,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    onClick: () => deleteBtn(blog),\n                    disabled: loading ? true : false,\n                    className: \"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\",\n                    children: deleteLoading ? \"Loading\" : \"Delete\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"\",\n                  children: /*#__PURE__*/_jsxDEV(\"a\", {\n                    href: `edit/${blog.id}`,\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      className: \"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded\",\n                      children: \"Edit\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 139,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(PersonalBlog, \"K+fYOh9cgRA9e2bmmh5gblFaEQo=\", false, function () {\n  return [useNavigate, useSnackbar];\n});\n\n_c = PersonalBlog;\nexport default PersonalBlog;\n\nvar _c;\n\n$RefreshReg$(_c, \"PersonalBlog\");","map":{"version":3,"sources":["C:/Users/gauta/Desktop/blogwebsite/blogfrontend/src/components/PersonalBlog.jsx"],"names":["React","useState","useEffect","axios","useSnackbar","useNavigate","x","PersonalBlog","blogData","setBlogData","loading","setLoading","deleteLoading","setDeleteLoading","navigate","options","position","style","backgroundColor","border","color","fontFamily","fontSize","textAlign","closeStyle","openSnackbar","uniqueBlog","get","process","env","REACT_APP_BACKEND_URL","withCredentials","headers","Authorization","then","response","data","console","log","catch","error","User","localStorage","getItem","deleteBtn","blog","delete","id","message","length","map","image","slice","title","Date","CreatedAt","toLocaleString","user","first_name","last_name"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { useSnackbar } from \"react-simple-snackbar\";\nimport { useNavigate } from \"react-router-dom\";\nconst x=\"../../blogbackend/upload\";\nconst PersonalBlog = () => {\n  \n  const [blogData, setBlogData] = useState();\n  const [loading, setLoading] = useState(false);\n  const [deleteLoading, setDeleteLoading] = useState(false);\n  const navigate = useNavigate();\n\n  const options = {\n    position: \"bottom-right\",\n    style: {\n      backgroundColor: \"gray\",\n      border: \"2px solid lightgreen\",\n      color: \"white\",\n      fontFamily: \"Menlo, monospace\",\n      fontSize: \"20px\",\n      textAlign: \"center\",\n    },\n    closeStyle: {\n      color: \"lightcoral\",\n      fontSize: \"16px\",\n    },\n  };\n  const [openSnackbar] = useSnackbar(options);\n  const uniqueBlog = () => {\n    setLoading(true);\n    axios\n      .get(\n        `${process.env.REACT_APP_BACKEND_URL}/api/mypost`,\n\n        {\n          withCredentials: true,\n          headers: {\n            Authorization: \"TOKEN\",\n          },\n        }\n      )\n      .then(function (response) {\n        setLoading(false);\n        //setBlogData(response?.data?.data);\n        setBlogData(response?.data);\n        console.log(\"respose\",response?.data);\n      })\n      .catch(function (error) {\n        setLoading(false);\n        //   setMessage(error?.response?.data?.message);\n        //   openSnackbar(error?.response?.data?.message);\n        //console.log(error?.response?.data?.message);\n      })\n      .then(function () {\n        // always executed\n      });\n  };\n\n  useEffect(() => {\n    const User = localStorage.getItem(\"user\");\n    if (!User) {\n      navigate(\"/login\");\n    }\n    uniqueBlog();\n  }, []);\n\n  const deleteBtn = (blog) => {\n    setDeleteLoading(true);\n    axios\n      .delete(\n        `${process.env.REACT_APP_BACKEND_URL}/api/delete-blog/${blog.id}`,\n\n        {\n          withCredentials: true,\n        }\n      )\n      .then(function (response) {\n        //setLoading(false);\n        //setBlogData(response?.data?.data);\n        setDeleteLoading(false);\n        openSnackbar(response?.data?.message);\n\n        uniqueBlog();\n\n        console.log(response?.data);\n      })\n      .catch(function (error) {\n        // handle error\n        setDeleteLoading(false);\n        //   setMessage(error?.response?.data?.message);\n        openSnackbar(error?.response?.data?.message);\n        //console.log(error?.response?.data?.message);\n      })\n      .then(function () {\n        // always executed\n      });\n  };\n\n  return (\n    <>\n      {!loading && blogData?.length <= 0 && (\n        <div className=\"text-2xl font-bold text-center flex justify-center items-center pl-16 pt-24\">\n          <h1>You don't have post yet. Kindly create a post </h1>\n        </div>\n      )}\n      {loading && (\n        <div className=\"text-2xl font-bold text-center px-56 pt-24\">\n          <h1>LOADING.....</h1>\n        </div>\n      )}\n      <div class=\"container my-12 mx-auto px-4 md:px-12\">\n        <div class=\"flex flex-wrap -mx-1 lg:-mx-4\">\n          {blogData?.map((blog) => (\n            <div className=\"my-1 px-1 w-full md:w-1/2 lg:my-4 lg:px-4 lg:w-1/3\">\n              <article className=\"overflow-hidden rounded-lg shadow-lg\">\n                <a href={`/detail/${blog.id}`}>\n                  <img\n                    alt=\"Placeholder\"\n                    className=\"block h-72 w-full\"\n                    // src={blog?.image}\n                    src = {\"./upload\"+ (blog?.image).slice(25)}\n                  />\n                </a>\n                {/* src = {\"./upload\" + (blog?.image).slice(25)} */}\n                <header className=\"flex items-center justify-between leading-tight p-2 md:p-4\">\n                  <h1 className=\"text-lg\">\n                    <a\n                      className=\"no-underline hover:underline text-black\"\n                      href={`/detail/${blog.id}`}\n                    >\n                      {blog.title}\n                    </a>\n                  </h1>\n                  <p className=\"text-grey-darker text-sm\">\n                    {new Date(blog?.CreatedAt).toLocaleString()}\n                  </p>\n                </header>\n\n                <footer className=\"flex items-center justify-between leading-none p-2 md:p-4\">\n                  <a\n                    className=\"flex items-center no-underline hover:underline text-black\"\n                    href={`/detail/${blog.id}`}\n                  >\n                    <img\n                      alt=\"Placeholder\"\n                      className=\"block rounded-full w-5 h-5\"\n                      src={blog?.image}\n                    />\n                    <p className=\"ml-2 text-sm\">\n                      {blog?.user?.first_name} {blog?.user?.last_name}\n                    </p>\n                  </a>\n                  <div>\n                    <button\n                      onClick={() => deleteBtn(blog)}\n                      disabled={loading ? true : false}\n                      className=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded\"\n                    >\n                      {deleteLoading ? \"Loading\" : \"Delete\"}\n                    </button>\n                  </div>\n                  <div className=\"\">\n                    <a href={`edit/${blog.id}`}>\n                      <button className=\"bg-yellow-500 hover:bg-yellow-700 text-white font-bold py-2 px-4 rounded\">\n                        Edit\n                      </button>\n                    </a>\n                  </div>\n                </footer>\n              </article>\n            </div>\n          ))}\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default PersonalBlog;\n"]},"metadata":{},"sourceType":"module"}